---
title: Gatsby ë°ì´í„°íŒ¨ì¹­ (GraphQL- ì •ì ì¿¼ë¦¬, í˜ì´ì§€ ì¿¼ë¦¬)
category: Gatsby
date: '2023-02-25'
author: ha0peno
slug: gatsby-graphql
thumbnail: gatsby-graphql.jpeg
---

# 1. ë°ì´í„° íŒ¨ì¹­
> - GatsbyëŠ” Wordpressì‚¬ì´íŠ¸ë‚˜ Shopifyìƒì , ë¸”ë¡œê·¸, filesystem, DB, API... ë“±ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ëŒì–´ì˜¤ê²Œ í•´ì¤€ë‹¤.  
> - GatsbyëŠ” ì„œë²„ë¥¼ ë³„ë„ë¡œ ë§Œë“¤ í•„ìš” ì—†ì´ __GraphQL__ë¡œ ìš”ì²­ë§Œ í•˜ë©´ ëœë‹¤.  
> - reactë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ë„ ë¬¼ë¡  ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, reactJSê°€ ë¡œë“œëœ í›„ì— ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¡œë”©í™”ë©´ì„ ë³´ê²Œëœë‹¤. ğŸ‘‰ğŸ» CSRë°©ì‹ì´ ë˜ì„œ Gatsbyë¥¼ ì“°ëŠ” ì´ìœ ê°€ ì—†ì–´ì§..
> - ë°ì´í„°ë¥¼ htmlë¡œ ë¯¸ë¦¬ êµ¬ì„±í•´ì„œ ì˜¤ê¸¸ ë°”ë€ë‹¤ë©´ Gatsbyë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì•¼í•œë‹¤.


# 2. GraphQL
- ê°œë°œí™˜ê²½ì—ì„œ ëŒë¦¬ë©´ `localhost:8000`ì™€ `localhost:8000___graphql`ì´ë¼ëŠ” ê²½ë¡œë¥¼ ë°›ê²Œë˜ëŠ”ë°, ì´ ê²½ë¡œê°€ ë°”ë¡œ __GraphQL Expolorer__ë¡œ, Gatsbyê°€ ë‚´ ì›¹ì‚¬ì´íŠ¸ì— ëŒ€í•´ ë‹´ê³ ìˆëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ëŠ” ê³³ì´ë‹¤!
![](https://velog.velcdn.com/images/ha0/post/24b9bad1-8226-49e5-ad38-3ab8a65f938f/image.png)
![](https://velog.velcdn.com/images/ha0/post/9218f549-510c-484b-93c3-60647c60bfad/image.png)

- ê·¸ë¦¬ê³  ì´ ì •ë³´ëŠ” gatsby-config.tsíŒŒì¼ ë‚´ì— ë“¤ì–´ìˆë‹¤.
![](https://velog.velcdn.com/images/ha0/post/e1679940-adcd-4921-8ddf-396d7e71d0e5/image.png)


# 3. useStaticQuery

- ì •ì ì¿¼ë¦¬: `useStaticQuery(grapql``)` ë¹Œë“œë‹¨ê³„ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ htmlíŒŒì¼ ìƒì„±
- GraphQLë¡œ ë°›ì•„ì˜¨ siteì˜ titleì •ë³´ë¥¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°›ìœ¼ë ¤ë©´ ì •ì ì¿¼ë¦¬ë¥¼ ì¨ì„œ ë°›ì•„ì˜¤ë©´ëœë‹¤. 
```tsx
export default function Seo({title}: ISeoProps) {
    const data = useStaticQuery(graphql`
        query SeoQuery {
            site {
                siteMetadata{
                    title
                }
            }
        }
    `)

    return <title>{title} | ha0peno's blog</title>
}
```
![](https://velog.velcdn.com/images/ha0/post/c54a2b25-720e-4475-bd82-b2b4e41ee037/image.png)

- gatsby-config.tsíŒŒì¼ì„ ë³´ë©´ GraphQLíƒ€ì…ìƒì„±ê´€ë ¨ ì„¤ì •`graphqlTypegen`ì´ trueë¡œ ë˜ì–´ìˆëŠ”ê±¸ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì´ê±¸ë¡œ ì¸í•´ì„œ Gatsbyê°€ ì¿¼ë¦¬ë¥¼ ì½ê³  ìë™ìœ¼ë¡œ ë§ëŠ” íƒ€ì…ì´ ìƒì„±ëœë‹¤. 
- gatsby-types.d.tsíŒŒì¼ì„ ë³´ë©´, Gatsbyê°€ Seoì¿¼ë¦¬ë¥¼ ì½ê³  ìë™íƒ€ì…ì„ ìƒì„±í•´ì£¼ê³  ìˆë‹¤.
![](https://velog.velcdn.com/images/ha0/post/c5f32d27-b3f5-4635-a0f2-4b8266874720/image.png)
ğŸ‘‰ğŸ» ì¿¼ë¦¬ ë°ì´í„°ì˜ íƒ€ì…ì´ ìë™ìƒì„±ë˜ì„œ
![](https://velog.velcdn.com/images/ha0/post/589bc634-0bc5-402b-93a9-b4bce08f7272/image.png)
ğŸ‘‰ğŸ» ê·¸ê±¸ í•„ìš”í•œ ê³³ì—ì„œ ì‚¬ìš©ë§Œí•´ì£¼ë©´ ëœë‹¤.
```tsx
export default function Seo({title}: ISeoProps) {
    const data = useStaticQuery(graphql`
        query SeoQuery {
            site {
                siteMetadata{
                    title
                }
            }
        }
    `)

    return <title>{title} | {data.site?.sitemMetadata?.title}</title>
}
```
![](https://velog.velcdn.com/images/ha0/post/c05242f5-09c6-4268-b505-ff1474444d2b/image.png)


# 4. Page Query
## 1. source-filesystem
> ë‚˜ì˜ íŒŒì¼ì„ Gatsbyê°€ ê´€ì°°í•  ìˆ˜ ìˆê²Œ í—ˆìš©í•´ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸
> [https://www.gatsbyjs.com/plugins/gatsby-source-filesystem/](https://www.gatsbyjs.com/plugins/gatsby-source-filesystem/)

### ğŸŒ± install
`npm install gatsby-source-filesystem`

### âš™ï¸ ì„¤ì •
- ì˜µì…˜ì—ì„œ íŒŒì¼ ê²½ë¡œ ì„¤ì •
![](https://velog.velcdn.com/images/ha0/post/4191375b-7a55-429c-a948-9cd128a675f7/image.png)
### ğŸŸ£ GraphQL
- ì¿¼ë¦¬ë¡œ ìš”ì²­í•´ì„œ filesystemì—ì„œ ì„¤ì •í•œ ê²½ë¡œ(blog-posts)ì˜ íŒŒì¼ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.
![](https://velog.velcdn.com/images/ha0/post/cb246a5f-8341-42ac-ac66-3062fe7cf8de/image.png)
### ğŸ“ í˜ì´ì§€ ì ìš©
![](https://velog.velcdn.com/images/ha0/post/0b3e5a51-e137-46f2-beb8-807ae26cf1b7/image.png)
![](https://velog.velcdn.com/images/ha0/post/972bbcf0-89aa-467e-abd2-beee0e10a674/image.png)

## 2. MDX
> ì „ì²´ í˜ì´ì§€ë¥¼ Markdown + Reactë¥¼ í™œìš©í•´ì„œ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•´ì¤Œ
> [https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/](https://www.gatsbyjs.com/plugins/gatsby-plugin-mdx/)

### ğŸŒ± install
`npm install gatsby-plugin-mdx gatsby-source-filesystem @mdx-js/react`

### âš™ï¸ ì„¤ì •
![](https://velog.velcdn.com/images/ha0/post/0dccd183-586b-4b11-9da0-7e4305467acb/image.png)

### âœğŸ» MDXíŒŒì¼ ì‘ì„±
![](https://velog.velcdn.com/images/ha0/post/197bb56a-c70b-4827-b0a9-ad0c3d92940d/image.png)

### ğŸŸ£ GraphQL
- GraphQLë¬¸ì„œë¥¼ ë³´ë©´, mdxë¶€ë¶„ì— ë‚´ê°€ ìƒì„±í•œ ë°ì´í„°ê°€ ë“¤ì–´ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
![](https://velog.velcdn.com/images/ha0/post/42e4f749-d57b-475a-9340-87e8af301521/image.png)

### ğŸ“ í˜ì´ì§€ ì ìš©
![](https://velog.velcdn.com/images/ha0/post/220c3f7d-e23c-4802-92cc-1bcebe0fd26d/image.png)
![](https://velog.velcdn.com/images/ha0/post/5ba98b57-52e9-4c9e-bd89-840ba31b0e6e/image.png)


# 5. Dynamic Pages
## 1. mdxì— slugì‘ì„±
	slugëŠ” urlì˜ ì œëª©ì„ ì¨ë„£ê¸° ìœ„í•´ ì‘ì„±í•˜ëŠ” ê²ƒ
![](https://velog.velcdn.com/images/ha0/post/349b2445-8ea2-429c-938c-37b7c07a7411/image.png)

## 2. blogì— ë§í¬ ë‹¬ê¸°
![](https://velog.velcdn.com/images/ha0/post/f7810b74-b31e-405f-8afe-f1b172b891e9/image.png)

## 3. ë™ì ì£¼ì†Œ ê°€ì§€ëŠ” íŒŒì¼ ë§Œë“¤ê¸°
`{mdx.frontmatter__slug}.tsx` íŒŒì¼ ìƒì„±í•˜ê¸°
![](https://velog.velcdn.com/images/ha0/post/e60632bf-84a1-4116-aa6d-ae37c779bfef/image.png)


ğŸ‘‰ğŸ» mdxí”ŒëŸ¬ê·¸ì¸ì´ mdxíŒŒì¼ë“¤ì„ ì§€ì¼œë³´ê³  ìˆê¸° ë•Œë¬¸ì—, Gatsbyê°€ mdxíŒŒì¼ì˜ slugë¥¼ ë³¸ ë‹¤ìŒì— ê°ê° ê·¸ í˜ì´ì§€ë¥¼ ì‘ì„±í•œ í˜•ì‹ëŒ€ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤. (urlí˜•íƒœë§Œ ë§ë‹¤ë©´, slugê°€ ì•„ë‹Œ dateë“± ì›í•˜ëŠ” ê°’ì„ ë„£ì–´ì¤˜ë„ ëœë‹¤.)
![](https://velog.velcdn.com/images/ha0/post/c6b7ff42-3771-4a9d-8386-c4af3949bc8d/image.png)
## 4. slugë¡œ ê²€ìƒ‰í•´ì„œ ìƒì„¸ë‚´ìš© ë¿Œë ¤ì£¼ê¸°
### ğŸ”® ì¿¼ë¦¬
![](https://velog.velcdn.com/images/ha0/post/97d5c8e0-ca65-41ab-b2d2-9b7119a4c136/image.png)
ğŸ‘‰ğŸ» mdxíŒŒì¼ë¡œ ë™ì ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ìƒì„±í–ˆ ë“¯(í˜ì´ì§€ê°€ slugì´ë¦„ìœ¼ë¡œ ìƒì„±ë˜ì—ˆê¸° ë•Œë¬¸ì—), í˜ì´ì§€ëŠ” mdxì˜ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹í˜ì´ì§€ì˜ slugë¡œ ìƒì„¸ë‚´ìš©ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤.
![](https://velog.velcdn.com/images/ha0/post/eb7f140f-35b9-4a39-852b-afd919bb1543/image.png)

### ğŸ”® mdxë‚´ìš© htmlë¡œ ë°›ì•„ì˜¤ê¸°
ğŸ‘‰ğŸ» mdxí”ŒëŸ¬ê·¸ì¸ì€ ìë™ì ìœ¼ë¡œ childrenì„ ì œê³µí•´ì£¼ëŠ”ë°, ê·¸ chidrenì€ ë°”ë¡œ bodyê°’ì„ react elementë¡œ ë°›ì•„ì˜¨ ê²ƒì„ 
![](https://velog.velcdn.com/images/ha0/post/7f9e889d-d4ab-429f-a5b0-e39c6692c1b4/image.png)
ğŸ‘‰ğŸ» ê·¸ë˜ì„œ mdxê°€ ìë™ìœ¼ë¡œ htmlë¡œ ë³€í™˜ë˜ê¸° ë•Œë¬¸ì— ë§¤ìš° í¸í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. 
![](https://velog.velcdn.com/images/ha0/post/9d8653d8-0e8f-4333-8a82-335babc73a7a/image.png)





