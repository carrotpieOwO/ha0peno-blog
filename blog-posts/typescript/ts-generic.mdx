---
title: Type Generic, μ΅°κ±΄λ¶€ νƒ€μ…μ§€μ •
category: TypeScript
date: '2023-01-03'
author: ha0peno
slug: ts-generic
thumbnail: ts.png
---


- μ•„λμ™€ κ°™μ΄ νλΌλ―Έν„°λ¥Ό κ°€λ³€μ μΌλ΅ λ°›κ³ μ‹¶μ€ ν•¨μκ°€ μμ„ κ²½μ°, νλΌλ―Έν„°λ¥Ό unknownνƒ€μ…μΌλ΅ λ°›κ³  μκΈ° λ•λ¬Έμ— returnκ°’μΈ νλΌλ―Έν„°[0]λ„ unknownνƒ€μ…μ΄ λμ–΄ μ—°μ‚° μ‹ μ—λ¬κ°€ λ°μƒν•λ‹¤. 
```ts
	function ν•¨μ(x :unknown[]) {
    	return x[0]
    }
    
    let a = ν•¨μ([4,2]) // <- aλ” unknownνƒ€μ…, 4
    a + 1 // <- error λ°μƒ
```
- ν•΄κ²°λ²•μ€ narrowing ! 
- ν•μ§€λ§, narrowingμ΄ λ¶νΈν•κ³  κ·€μ°®λ‹¤λ©΄? __Genericν•¨μ λ§λ“¤κΈ°(νλΌλ―Έν„°λ΅ νƒ€μ…μ„ μ…λ ¥ν•λ” ν•¨μ)__


# Genericν•¨μ
> - μ„ μ–Έμ‹μ μ΄ μ•„λ‹ __μƒμ„±μ‹μ __μ— __νƒ€μ…μ„ λ…μ‹__ν•μ—¬ κ°€λ³€μ μΌλ΅ νƒ€μ…μ„ μ‚¬μ©ν•  μ μκ² ν•λ‹¤.
> - μ¦‰, ν•¨μμ νλΌλ―Έν„°λ΅ νƒ€μ…μ„ μ…λ ¥κ°€λ¥ν•κ² ν•¨ `funcion ν•¨μλ…<Typeμ‘λ…>(){}`
> - ν•λ²μ μ„ μ–ΈμΌλ΅ λ‹¤μ–‘ν• νƒ€μ…μ— μ¬μ‚¬μ© κ°€λ¥
> - μ΄λ• `νƒ€μ… νλΌλ―Έν„°`μ μ‘λ…μ€ `T`λΌκ³  μ‘λ…ν•λ” κ²ƒμ΄ κ΄€μµ.

```ts
	function ν•¨μ<T>(x :T[]) :T {
    	return x[0]
    }
    
    let a = ν•¨μ<number>([4,2])
    console.log(a) // <- aλ” numberνƒ€μ…, 4
    a + 1 // <- μ •μƒμ‘λ™
    
    let b = ν•¨μ<string>(['4','2']) // <- bλ” stringνƒ€μ…, '4'
```
- νƒ€μ… νλΌλ―Έν„°λ„ μΌλ° ν•¨μνλΌλ―Έν„° μ²λΌ μ—¬λ¬κ° μ…λ ¥ κ°€λ¥ν•λ‹¤.
π“ **μ¥μ : narrowingν•λ” κ²ƒλ³΄λ‹¤ ν™•μ¥μ„± μμ**

# νƒ€μ… νλΌλ―Έν„° μ ν•
```ts
	function ν•¨μ<MyType> (x :MyType) {
		return x - 1 // <- error (λ¬΄μ¨ νƒ€μ…μ΄ λ“¤μ–΄μ¬μ§€ λ¨λ¦„)
	}
```
- μ΄λ΄ κ²½μ° narrowingν•΄μ„ μ“Έ μλ„ μμ§€λ§, κ·Έκ² κ·€μ°®λ‹¤λ©΄ νƒ€μ… νλΌλ―Έν„°μ— μ ν•μ„ λ‘λ” λ°©λ²•λ„ μλ‹¤. **(constraints)** <br/>
`function ν•¨μλ…<typeμ‘λ… extends μ΅°κ±΄νƒ€μ…>(){}`  <br/>
π‘‰π» typeνλΌλ―Έν„°κ°€ extendsλ’¤μ—μ¤λ” __typeμ μ†μ„±μ„ κ°€μ§€κ³  μλ”μ§€ μ²΄ν¬__ν•λ‹¤. (μ—¬κΈ°μ„μ extendsλ” λ³µμ‚¬μ κ°λ…μ΄ μ•„λ‹ μ²΄ν¬ν•λ” κ°λ…)
```ts
	function ν•¨μ<MyType extends number> (x :MyType) {
		return x - 1 // <- μ •μƒμ‘λ™
	}
```
- μ»¤μ¤ν…€ νƒ€μ…λ„ extendsκ°€λ¥


# μ΅°κ±΄λ¶€ νƒ€μ…μ§€μ •
- νƒ€μ… μ΅°κ±΄μ‹μ€ μ£Όλ΅ **extendsν‚¤μ›λ“**μ™€ **μ‚Όν•­μ—°μ‚°μ**λ¥Ό μ΄μ©ν•λ‹¤.
```ts
	type Age<T> = T extends string ? string : unknown;
	let age : Age<string> //ageλ” string νƒ€μ…
	let age2 : Age<number> //ageλ” unknown νƒ€μ…
```
```ts
	type FirstItem<T> = T extends any[] ? T[0] : any;

	let age1 :FirstItem<string[]>; // stringνƒ€μ…
	let age2 :FirstItem<number>;  // anyνƒ€μ…
```


## π± infer ν‚¤μ›λ“
> μ΅°κ±΄λ¬Έμ—μ„ μ“Έ μ μλ” νΉλ³„ν• ν‚¤μ›λ“λ΅ **νƒ€μ…νλΌλ―Έν„°μ—μ„ νƒ€μ…μ„ μ¶”μ¶ν•λ” μ—­ν• **
π‘‰π» `T extends infer R` : T(νƒ€μ…)μ„ μ μ¶”ν•΄μ„ Rμ΄λΌλ” λ³€μμ— μ§‘μ–΄λ„£μ
- `R`μ€ μ΅°κ±΄μ‹ μ•μ—μ„ λ§μλ€λ΅ μ‚¬μ©κ°€λ¥ν•λ‹¤.
```ts
type Person<T> = T extends infer R ? R : unknown; 
type μƒνƒ€μ… = Person<string> // μƒνƒ€μ…μ€ string νƒ€μ…
```


π¤” **μ©λ„1**: arrayμ•μ— μλ νƒ€μ…μ΄ μ–΄λ–¤ νƒ€μ…μΈμ§€ λ½‘μ•„μ„ λ³€μλ΅ λ§λ“¤ λ•
```ts
	type νƒ€μ…μ¶”μ¶<T> = T extends (infer R)[] ? R : unknown; 
	type NewType = νƒ€μ…μ¶”μ¶< boolean[] > // NewType μ€ boolean
    type NewType2 = νƒ€μ…μ¶”μ¶< boolean > // NewType2λ” unknown
```
π¤” **μ©λ„2**: ν•¨μμ return νƒ€μ…μ΄ μ–΄λ–¤ νƒ€μ…μΈμ§€ λ½‘μ•„μ„ λ³€μλ΅ λ§λ“¤ λ•
```ts
	type νƒ€μ…μ¶”μ¶<T> = T extends ( ()=> infer R ) ? R : unknown; 
	type NewType = νƒ€μ…μ¶”μ¶< () => number > // NewTypeμ€ number νƒ€μ…
```

